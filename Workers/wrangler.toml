name = "aitranslator"
main = "azureProxyWorker.ts"
compatibility_date = "2024-01-01"

# Custom domain (requires DNS configured in Cloudflare)
routes = [
  { pattern = "translator-api.zanderwang.com/*", zone_name = "zanderwang.com" }
]

# Default workers.dev subdomain: https://aitranslator.xiaozwan.workers.dev/

# Enable observability (logs and tracing)
[observability]
enabled = true

# Environment variables (secrets should be set via `wrangler secret put`)
# Required secrets:
# - APP_SECRET: The HMAC shared secret for request signing
# - AZURE_API_KEY: Azure OpenAI API key
# - AZURE_ENDPOINT: Azure OpenAI endpoint URL

# ---- Dev environment ----
# Deployed as: https://aitranslator-dev.xiaozwan.workers.dev/
# Deploy with:  npx wrangler deploy --env dev
# Set secrets:  npx wrangler secret put APP_SECRET --env dev
#               npx wrangler secret put AZURE_API_KEY --env dev
#               npx wrangler secret put AZURE_ENDPOINT --env dev
[env.dev]
name = "aitranslator-dev"
routes = []
